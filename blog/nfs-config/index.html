<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "\/"
        },
        "articleSection" : "blog",
        "name" : "NFS文件系统配置，要注意一个小小问题，以及共享session的方法",
        "headline" : "NFS文件系统配置，要注意一个小小问题，以及共享session的方法",
        "description" : "关于NFS\n参考：http:\/\/tilt.lib.tsinghua.edu.cn\/node\/400（\nLinux下NFS(网络文件系统)的建立与配置方法）\n两台机器：\n一台ip：192.168.184.67\n另一台：192.168.184.71（其实无所谓，只要同网段就行…）\n192.168.184.67上设置\/etc\/exports：\n\/home\/share_dir 192.168.184.*(rw,sync,no_root_squash)\n其实就是这里需要注意，“*”和“（”之间一定不要有空格然后，\n\/etc\/init.d\/portmap start\n\/etc\/init.d\/nfs start\n另外，还需要查看系统的iptables、\/etc\/hosts.allow、\/etc\/hosts.deny是否设置了正确的NFS访问规则。\n再另一台服务器上:\nmount -t nfs 192.168.184.67:\/home\/share_dir \/mnt -o nolock\n然后尝试修改，就会发现已经同步修改了\n如果发现mount不上，比如提示“no route to host”这种提示，则考虑主机可能开了防火墙，编辑iptables，加个例外就可以了\n配置\/etc\/exports时可用的参数：\nro：只读访问\nrw：读写访问\nsync：所有数据在请求时写入共享\nasync：NFS在写入数据前可以相应请求\nsecure：NFS通过1024以下的安全TCP\/IP端口发送\ninsecure：NFS通过1024以上的端口发送\nwdelay：如果多个用户要写入NFS目录，则归组写入（默认）\nno_wdelay：如果多个用户要写入NFS目录，则立即写入，当使用async时，无需此设置。\nhide：在NFS共享目录中不共享其子目录\nno_hide：共享NFS目录的子目录\nsubtree_check：如果共享\/usr\/bin之类的子目录时，强制NFS检查父目录的权限（默认）\nno_subtree_check：和上面相对，不检查父目录权限\nall_squash：共享文件的UID和GID映射匿名用户anonymous，适合公用目录。\nno_all_squash：保留共享文件的UID和GID（默认）\nroot_squash：root用户的所有请求映射成如anonymous用户一样的权限（默认）\nno_root_squash：root用户具有根目录的完全管理访问权限\nanonuid=xxx：指定NFS服务器\/etc\/passwd文件中匿名用户的UID\nanongid=xxx：指定NFS服务器\/etc\/passwd文件中匿名用户的GID\n优化：\n转自：http:\/\/icarusli.iteye.com\/blog\/691445（nfs 共享session方式 session_start 慢 问题解决\n）\n1.设置块大小\nmount命令的risize和wsize指定了server端和client端的传输的块大小。\nmount -t nfs -o rsize=8192,wsizevb=8192,timeo=14,intr client:\/partition \/partition\n如果未指定，系统根据nfs version来设置缺省的risize和wsize大小。大多数情况是4K对于nfs v2，最大是8K，对于v3，通过server端kernel设置risize和wsize的限制\nvi \/usr\/src\/linux2.4.22\/include\/linux\/nfsd\/const.h\n修改常量: NFSSVC_MAXBLKSIZE",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2011",
        "datePublished": "2011-12-26 17:11:12 \x2b0800 \x2b0800",
        "dateModified" : "2011-12-26 17:11:12 \x2b0800 \x2b0800",
        "url" : "\/blog\/nfs-config\/",
        "wordCount" : "191",
        "keywords" : [ "Blog" ]
    }
    </script>
        
            
                <title>NFS文件系统配置，要注意一个小小问题，以及共享session的方法</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.60.1" />
        


        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="NFS文件系统配置，要注意一个小小问题，以及共享session的方法"/>
<meta name="twitter:description" content="关于NFS
参考：http://tilt.lib.tsinghua.edu.cn/node/400（
Linux下NFS(网络文件系统)的建立与配置方法）
两台机器：
一台ip：192.168.184.67
另一台：192.168.184.71（其实无所谓，只要同网段就行…）
192.168.184.67上设置/etc/exports：
/home/share_dir 192.168.184.*(rw,sync,no_root_squash)
其实就是这里需要注意，“*”和“（”之间一定不要有空格然后，
/etc/init.d/portmap start
/etc/init.d/nfs start
另外，还需要查看系统的iptables、/etc/hosts.allow、/etc/hosts.deny是否设置了正确的NFS访问规则。
再另一台服务器上:
mount -t nfs 192.168.184.67:/home/share_dir /mnt -o nolock
然后尝试修改，就会发现已经同步修改了
如果发现mount不上，比如提示“no route to host”这种提示，则考虑主机可能开了防火墙，编辑iptables，加个例外就可以了
配置/etc/exports时可用的参数：
ro：只读访问
rw：读写访问
sync：所有数据在请求时写入共享
async：NFS在写入数据前可以相应请求
secure：NFS通过1024以下的安全TCP/IP端口发送
insecure：NFS通过1024以上的端口发送
wdelay：如果多个用户要写入NFS目录，则归组写入（默认）
no_wdelay：如果多个用户要写入NFS目录，则立即写入，当使用async时，无需此设置。
hide：在NFS共享目录中不共享其子目录
no_hide：共享NFS目录的子目录
subtree_check：如果共享/usr/bin之类的子目录时，强制NFS检查父目录的权限（默认）
no_subtree_check：和上面相对，不检查父目录权限
all_squash：共享文件的UID和GID映射匿名用户anonymous，适合公用目录。
no_all_squash：保留共享文件的UID和GID（默认）
root_squash：root用户的所有请求映射成如anonymous用户一样的权限（默认）
no_root_squash：root用户具有根目录的完全管理访问权限
anonuid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的UID
anongid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的GID
优化：
转自：http://icarusli.iteye.com/blog/691445（nfs 共享session方式 session_start 慢 问题解决
）
1.设置块大小
mount命令的risize和wsize指定了server端和client端的传输的块大小。
mount -t nfs -o rsize=8192,wsizevb=8192,timeo=14,intr client:/partition /partition
如果未指定，系统根据nfs version来设置缺省的risize和wsize大小。大多数情况是4K对于nfs v2，最大是8K，对于v3，通过server端kernel设置risize和wsize的限制
vi /usr/src/linux2.4.22/include/linux/nfsd/const.h
修改常量: NFSSVC_MAXBLKSIZE"/>
<meta name="twitter:site" content="@example"/>

        <meta property="og:title" content="NFS文件系统配置，要注意一个小小问题，以及共享session的方法" />
<meta property="og:description" content="关于NFS
参考：http://tilt.lib.tsinghua.edu.cn/node/400（
Linux下NFS(网络文件系统)的建立与配置方法）
两台机器：
一台ip：192.168.184.67
另一台：192.168.184.71（其实无所谓，只要同网段就行…）
192.168.184.67上设置/etc/exports：
/home/share_dir 192.168.184.*(rw,sync,no_root_squash)
其实就是这里需要注意，“*”和“（”之间一定不要有空格然后，
/etc/init.d/portmap start
/etc/init.d/nfs start
另外，还需要查看系统的iptables、/etc/hosts.allow、/etc/hosts.deny是否设置了正确的NFS访问规则。
再另一台服务器上:
mount -t nfs 192.168.184.67:/home/share_dir /mnt -o nolock
然后尝试修改，就会发现已经同步修改了
如果发现mount不上，比如提示“no route to host”这种提示，则考虑主机可能开了防火墙，编辑iptables，加个例外就可以了
配置/etc/exports时可用的参数：
ro：只读访问
rw：读写访问
sync：所有数据在请求时写入共享
async：NFS在写入数据前可以相应请求
secure：NFS通过1024以下的安全TCP/IP端口发送
insecure：NFS通过1024以上的端口发送
wdelay：如果多个用户要写入NFS目录，则归组写入（默认）
no_wdelay：如果多个用户要写入NFS目录，则立即写入，当使用async时，无需此设置。
hide：在NFS共享目录中不共享其子目录
no_hide：共享NFS目录的子目录
subtree_check：如果共享/usr/bin之类的子目录时，强制NFS检查父目录的权限（默认）
no_subtree_check：和上面相对，不检查父目录权限
all_squash：共享文件的UID和GID映射匿名用户anonymous，适合公用目录。
no_all_squash：保留共享文件的UID和GID（默认）
root_squash：root用户的所有请求映射成如anonymous用户一样的权限（默认）
no_root_squash：root用户具有根目录的完全管理访问权限
anonuid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的UID
anongid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的GID
优化：
转自：http://icarusli.iteye.com/blog/691445（nfs 共享session方式 session_start 慢 问题解决
）
1.设置块大小
mount命令的risize和wsize指定了server端和client端的传输的块大小。
mount -t nfs -o rsize=8192,wsizevb=8192,timeo=14,intr client:/partition /partition
如果未指定，系统根据nfs version来设置缺省的risize和wsize大小。大多数情况是4K对于nfs v2，最大是8K，对于v3，通过server端kernel设置risize和wsize的限制
vi /usr/src/linux2.4.22/include/linux/nfsd/const.h
修改常量: NFSSVC_MAXBLKSIZE" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/nfs-config/" />
<meta property="article:published_time" content="2011-12-26T17:11:12+08:00" />
<meta property="article:modified_time" content="2011-12-26T17:11:12+08:00" />

        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="NFS文件系统配置，要注意一个小小问题，以及共享session的方法">
<meta itemprop="description" content="关于NFS
参考：http://tilt.lib.tsinghua.edu.cn/node/400（
Linux下NFS(网络文件系统)的建立与配置方法）
两台机器：
一台ip：192.168.184.67
另一台：192.168.184.71（其实无所谓，只要同网段就行…）
192.168.184.67上设置/etc/exports：
/home/share_dir 192.168.184.*(rw,sync,no_root_squash)
其实就是这里需要注意，“*”和“（”之间一定不要有空格然后，
/etc/init.d/portmap start
/etc/init.d/nfs start
另外，还需要查看系统的iptables、/etc/hosts.allow、/etc/hosts.deny是否设置了正确的NFS访问规则。
再另一台服务器上:
mount -t nfs 192.168.184.67:/home/share_dir /mnt -o nolock
然后尝试修改，就会发现已经同步修改了
如果发现mount不上，比如提示“no route to host”这种提示，则考虑主机可能开了防火墙，编辑iptables，加个例外就可以了
配置/etc/exports时可用的参数：
ro：只读访问
rw：读写访问
sync：所有数据在请求时写入共享
async：NFS在写入数据前可以相应请求
secure：NFS通过1024以下的安全TCP/IP端口发送
insecure：NFS通过1024以上的端口发送
wdelay：如果多个用户要写入NFS目录，则归组写入（默认）
no_wdelay：如果多个用户要写入NFS目录，则立即写入，当使用async时，无需此设置。
hide：在NFS共享目录中不共享其子目录
no_hide：共享NFS目录的子目录
subtree_check：如果共享/usr/bin之类的子目录时，强制NFS检查父目录的权限（默认）
no_subtree_check：和上面相对，不检查父目录权限
all_squash：共享文件的UID和GID映射匿名用户anonymous，适合公用目录。
no_all_squash：保留共享文件的UID和GID（默认）
root_squash：root用户的所有请求映射成如anonymous用户一样的权限（默认）
no_root_squash：root用户具有根目录的完全管理访问权限
anonuid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的UID
anongid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的GID
优化：
转自：http://icarusli.iteye.com/blog/691445（nfs 共享session方式 session_start 慢 问题解决
）
1.设置块大小
mount命令的risize和wsize指定了server端和client端的传输的块大小。
mount -t nfs -o rsize=8192,wsizevb=8192,timeo=14,intr client:/partition /partition
如果未指定，系统根据nfs version来设置缺省的risize和wsize大小。大多数情况是4K对于nfs v2，最大是8K，对于v3，通过server端kernel设置risize和wsize的限制
vi /usr/src/linux2.4.22/include/linux/nfsd/const.h
修改常量: NFSSVC_MAXBLKSIZE">
<meta itemprop="datePublished" content="2011-12-26T17:11:12&#43;08:00" />
<meta itemprop="dateModified" content="2011-12-26T17:11:12&#43;08:00" />
<meta itemprop="wordCount" content="191">



<meta itemprop="keywords" content="" />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/itemized/">
                            <i class="fa fa-list">&nbsp;</i>Itemized
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contact
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/itemized/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Itemized
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contact
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/select-medium-number/">[转]在MySQL中，如何计算一组数据的中位数？</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-01-07'>
                                    January 7, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/redis-serializer/">jackson做redis反序列化时，反序列化Map&lt;Integer, T&gt;时的问题</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-01-04'>
                                    January 4, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/kafka-rebalance-protocol/">【译】【原】kafka rebalance 协议详解</a></h3>
                                
                                <time class="published" datetime=
                                    '2020-11-22'>
                                    November 22, 2020</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/%E5%A2%9E%E5%8A%A0%E4%BF%A9php5-2-17%E7%9A%84gdbinit%E6%96%B9%E6%B3%95/">增加俩php5.2.17的.gdbinit方法</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-10-31'>
                                    October 31, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/redis-fluctruate/">redis可能波动的几种情况</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-09-29'>
                                    September 29, 2018</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=%2fblog%2fnfs-config%2f&amp;text=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95&amp;via=example" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>




<li>
  <a href="//plus.google.com/share?url=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2fnfs-config%2f&amp;description=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by &amp;body=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/blog/nfs-config/">NFS文件系统配置，要注意一个小小问题，以及共享session的方法</a></h1>
            
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2011-12-26'>
            December 26, 2011</time>
        <span class="author"></span>
        
            <p>1 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=%2fblog%2fnfs-config%2f&amp;text=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95&amp;via=example" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>




<li>
  <a href="//plus.google.com/share?url=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=%2fblog%2fnfs-config%2f&amp;title=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2fnfs-config%2f&amp;description=NFS%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%ef%bc%8c%e8%a6%81%e6%b3%a8%e6%84%8f%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e9%97%ae%e9%a2%98%ef%bc%8c%e4%bb%a5%e5%8f%8a%e5%85%b1%e4%ba%absession%e7%9a%84%e6%96%b9%e6%b3%95" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by &amp;body=%2fblog%2fnfs-config%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


      </ul>
    </section>
  

  

  <div id="content">
    <p><strong><!-- raw HTML omitted -->关于NFS<!-- raw HTML omitted --></strong><br>
参考：http://tilt.lib.tsinghua.edu.cn/node/400（</p>
<p><!-- raw HTML omitted -->Linux下NFS(网络文件系统)的建立与配置方法<!-- raw HTML omitted -->）</p>
<p>两台机器：<br>
一台ip：192.168.184.67<br>
另一台：192.168.184.71（其实无所谓，只要同网段就行…）</p>
<p>192.168.184.67上设置/etc/exports：<br>
/home/share_dir 192.168.184.*(rw,sync,no_root_squash)</p>
<p><!-- raw HTML omitted -->其实就是这里需要注意，“*”和“（”之间一定不要有空格<!-- raw HTML omitted --><br>
然后，<br>
/etc/init.d/portmap start<br>
/etc/init.d/nfs start</p>
<p>另外，还需要查看系统的iptables、/etc/hosts.allow、/etc/hosts.deny是否设置了正确的NFS访问规则。</p>
<p>再另一台服务器上:<br>
mount -t nfs 192.168.184.67:/home/share_dir /mnt -o nolock<br>
然后尝试修改，就会发现已经同步修改了<br>
如果发现mount不上，比如提示“no route to host”这种提示，则考虑主机可能开了防火墙，编辑iptables，加个例外就可以了</p>
<p>配置/etc/exports时可用的参数：<br>
ro：只读访问<br>
rw：读写访问<br>
sync：所有数据在请求时写入共享<br>
async：NFS在写入数据前可以相应请求<br>
secure：NFS通过1024以下的安全TCP/IP端口发送<br>
insecure：NFS通过1024以上的端口发送<br>
wdelay：如果多个用户要写入NFS目录，则归组写入（默认）<br>
no_wdelay：如果多个用户要写入NFS目录，则立即写入，当使用async时，无需此设置。<br>
hide：在NFS共享目录中不共享其子目录<br>
no_hide：共享NFS目录的子目录<br>
subtree_check：如果共享/usr/bin之类的子目录时，强制NFS检查父目录的权限（默认）<br>
no_subtree_check：和上面相对，不检查父目录权限<br>
all_squash：共享文件的UID和GID映射匿名用户anonymous，适合公用目录。<br>
no_all_squash：保留共享文件的UID和GID（默认）<br>
root_squash：root用户的所有请求映射成如anonymous用户一样的权限（默认）<br>
no_root_squash：root用户具有根目录的完全管理访问权限<br>
anonuid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的UID<br>
anongid=xxx：指定NFS服务器/etc/passwd文件中匿名用户的GID</p>
<p><strong><!-- raw HTML omitted -->优化：<!-- raw HTML omitted --></strong></p>
<p>转自：http://icarusli.iteye.com/blog/691445（<a href="http://icarusli.iteye.com/blog/691445">nfs 共享session方式 session_start 慢 问题解决</a></p>
<p>）</p>
<p>1.设置块大小<br>
mount命令的risize和wsize指定了server端和client端的传输的块大小。</p>
<p>mount -t nfs -o rsize=8192,wsizevb=8192,timeo=14,intr client:/partition /partition</p>
<p>如果未指定，系统根据nfs version来设置缺省的risize和wsize大小。大多数情况是4K对于nfs v2，最大是8K，对于v3，通过server端kernel设置risize和wsize的限制</p>
<p>vi /usr/src/linux2.4.22/include/linux/nfsd/const.h<br>
修改常量: NFSSVC_MAXBLKSIZE</p>
<p>所有的2.4的的client都支持最大32K的传输块。系统缺省的块可能会太大或者太小，这主要取决于你的kernel和你的网卡，太大或者太小都有可能导致nfs速度很慢。<br>
具体的可以使用Bonnie，Bonnie++，iozone等benchmark来测试不同risize和wsize下nfs的速度。当然，也可以使用dd来测试。</p>
<p>＃time dd if=/dev/zero of=/testfs/testfile bs=8k count=1024　　测试nfs写<br>
＃time dd if=/testfs/testfile of=/dev/null bs=8k　　　　　　　 测试nfs读</p>
<p>测试时文件的大小至少是系统RAM的两倍，每次测试都使用umount 和mount对/testfs进行挂载，通过比较不同的块大小，得到优化的块大小。</p>
<p>2.网络传输包的大小<br>
网络在包传输过程，对包要进行分组，过大或者过小都不能很好的利用网络的带宽，所以对网络要进行测试和调优。
可以使用ping -s 2048 -f hostname进行ping，尝试不同的package
size，这样可以看到包的丢失情况。同时，可以使用nfsstat -o net
测试nfs使用udp传输时丢包的多少。因为统计不能清零，所以要先运行此命令记住该值，然后可以再次运行统计。如果，经过上面的统计丢包很多。那么可以
看看网络传输包的大小。使用下面的命令：</p>
<p>#tracepath node1/端口号<br>
#ifconfig eth0</p>
<p>比较网卡的mtu和刚刚的pmtu，使用#ifconfig eth0 mtu 16436设置网卡的mtu和测试的一致。
当然如果risize和wsize比mtu的值大，那么的话，server端的包传到client端就要进行重组，这是要消耗client端的cpu资
源。此外，包重组可能导致网络的不可信和丢包，任何的丢包都会是的rpc请求重新传输，rpc请求的重传有会导致超时，严重降低nfs的性能。<br>
可以通过查看</p>
<p>/proc/sys/net/ipv4/ipfrag_high_thresh<br>
/proc/sys/net/ipv4/ipfrag_low_thresh</p>
<p>了解系统可以处理的包的数目，如果网络包到达了ipfrag_high_thresh，那么系统就会开始丢包，直到包的数目到达ipfrag_low_thresh。</p>
<p>3.nfs挂载的优化<br>
timeo：　　如果超时，客户端等待的时间，以十分之一秒计算<br>
retrans：　超时尝试的次数。<br>
bg：　　　 后台挂载，很有用<br>
hard：　　 如果server端没有响应，那么客户端一直尝试挂载<br>
wsize：　　写块大小<br>
rsize：　　读块大小<br>
intr：　　 可以中断不成功的挂载<br>
noatime：　不更新文件的inode访问时间，可以提高速度<br>
async：　　异步读写</p>
<p>4.nfsd的个数<br>
缺省的系统在启动时，有8个nfsd进程<br>
#ps -efl|grep nfsd<br>
通过查看/proc/net/rpc/nfsd文件的th行，第一个是nfsd的个数，后十个是线程是用的时间数，第二个到第四个值如果很大，那么就需要增加nfsd的个数。<br>
具体如下：</p>
<p>#vi /etc/init.d/nfs</p>
<p>找到RPCNFSDCOUNT,修改该值，一般和client端数目一致。</p>
<p>#service nfs restart<br>
#mount -a</p>
<p>5.nfsd的队列长度<br>
对于8个nfsd进程，系统的nfsd队列长度是64k大小，如果是多于8个，就要相应的增加相应的队列大小，具体的在</p>
<p>/proc/sys/net/core/rwmem_default<br>
/proc/sys/net/core/wwmem_default<br>
/proc/sys/net/core/rmmem_max<br>
/proc/sys/net/core/wmmem_max</p>
<p>队列的长度最好是每一个nfsd有8k的大小。这样，server端就可以对client的请求作排队处理。如果要永久更改此值</p>
<p>#vi /etc/sysctl.conf<br>
net.core.rmmem_default=数目<br>
net.core.wmmem_default=数目<br>
net.core.rmmem_max=数目<br>
net.core.wmmem_max=数目<br>
#service nfs restart</p>
<p>++<br>
查看被导出资源<br>
showmount -e nfsserver_name(or nfsserver IP address)<br>
重新加载配置：<br>
exportfs -rv<br>
停止现在发布的目录<br>
exportfs -a</p>
<p><strong><!-- raw HTML omitted -->关于SESSION共享<!-- raw HTML omitted --></strong><br>
不过由于nfs的锁机制，在高并发情况下会有效率问题，比如想用作共享session的目录的话，可能nfs会变成性能的瓶颈，这里，有这么篇文章，写得很具体，基本就是分文件夹存储的形式：<br>
<a href="http://www.desteps.com/program/php/650.html">http://www.desteps.com/program/php/650.html</a>（PHP实现多服务器session共享之NFS共享）</p>
<p>这个帖子介绍了4中常用的session共享机制：http://www.cnblogs.com/cyw080/archive/2009/11/17/1604272.html（<a href="http://www.cnblogs.com/cyw080/archive/2009/11/17/1604272.html">四种多服务器共享session的方法</a>）<br>
主要即：<br>
<strong>1. 基于NFS的Session共享</strong></p>
<p><strong>2. 基于数据库的Session共享</strong></p>
<p><strong>3. 基于Cookie的Session共享</strong></p>
<p><strong>4. 基于Memcache的Session共享</strong></p>
<p>****nfs的瓶颈也许就在nfs锁机制上，数据库想必是网络传输和磁盘io，********cookie也许会存在一些安全问题，否则就是会需要加密解密的机制，耗费cpu和网络传输，****<strong><strong>四种最快的想必是memcache的共享，并且没有安全问题</strong></strong></p>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="/categories/linux">linux</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
    </ul>
  </li>
</ul>

  </footer>

</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "shortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>


<ul class="actions pagination">
    
        <li><a href="/blog/mysql_drbd/"
                class="button big previous">redhat5.x86_64下搭建mysql drbd heartbeat做主从mysql高可用（mysql HA）</a></li>
    

    
        <li><a href="/blog/smtp-script/"
                class="button big next">一个通过smtp发送邮件的shell，带用户名密码</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/' class="logo"><img src="/img/main/logo.jpg" alt="Hugo Future Imperfect" /></a>
      
    
    
      <header>
        <h2>yufulou的楼</h2>
        <p>try deep, try more</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jpescador/hugo-future-imperfect" target="_blank" title="GitHub" class="fa fa-github"></a></li>















  <li><a href="//flickr.com/photos/example" target="_blank" title="Flickr" class="fa fa-flickr"></a></li>











  <li><a href="//linkedin.com/in/example" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



  <li><a href="//linkedin.com/company/examplebusiness" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/example" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





  <li><a href="//reddit.com/user/example" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>

















  <li><a href="//instagram.com/example" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>







  <li><a href="//pinterest.com/example" target="_blank" title="Pinterest" class="fa fa-pinterest-p"></a></li>



  <li><a href="//telegram.me/example" target="_blank" title="telegram" class="fa fa-telegram"></a></li>









<li><a href="//researchgate.net/profile/example" target="_blank" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>



  <li><a href="mailto:example" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/select-medium-number/">[转]在MySQL中，如何计算一组数据的中位数？</a>
              </h3>
              
              <time class="published" datetime='2021-01-07'>
                January 7, 2021
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/redis-serializer/">jackson做redis反序列化时，反序列化Map&lt;Integer, T&gt;时的问题</a>
              </h3>
              
              <time class="published" datetime='2021-01-04'>
                January 4, 2021
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/kafka-rebalance-protocol/">【译】【原】kafka rebalance 协议详解</a>
              </h3>
              
              <time class="published" datetime='2020-11-22'>
                November 22, 2020
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/%E5%A2%9E%E5%8A%A0%E4%BF%A9php5-2-17%E7%9A%84gdbinit%E6%96%B9%E6%B3%95/">增加俩php5.2.17的.gdbinit方法</a>
              </h3>
              
              <time class="published" datetime='2018-10-31'>
                October 31, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/redis-fluctruate/">redis可能波动的几种情况</a>
              </h3>
              
              <time class="published" datetime='2018-09-29'>
                September 29, 2018
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="/categories/php/">php</a>
                <span style="float:right;">7</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/mysql/">mysql</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                Uncategorized
                <span style="float:right;">4</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/linux/">linux</a>
                <span style="float:right;">4</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/js/">js</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/apache/">apache</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/jackson/">jackson</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/java/">java</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/kafka/">kafka</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/lvs/">lvs</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/mongo/">mongo</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/op/">op</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/redis/">redis</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/serialize/">serialize</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/sql/">sql</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent tellus lacus, auctor vehicula molestie quis, tempor quis velit. Quisque in quam ac leo efficitur vulputate. Phasellus ullamcorper aliquam sodales. Maecenas sit amet condimentum ipsum. Proin sit amet ligula elit. Mauris.</p>
      <a href="/about/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jpescador/hugo-future-imperfect" target="_blank" title="GitHub" class="fa fa-github"></a></li>















  <li><a href="//flickr.com/photos/example" target="_blank" title="Flickr" class="fa fa-flickr"></a></li>











  <li><a href="//linkedin.com/in/example" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



  <li><a href="//linkedin.com/company/examplebusiness" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/example" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





  <li><a href="//reddit.com/user/example" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>

















  <li><a href="//instagram.com/example" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>







  <li><a href="//pinterest.com/example" target="_blank" title="Pinterest" class="fa fa-pinterest-p"></a></li>



  <li><a href="//telegram.me/example" target="_blank" title="telegram" class="fa fa-telegram"></a></li>









<li><a href="//researchgate.net/profile/example" target="_blank" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>



  <li><a href="mailto:example" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2021
        
          yufulou&#39;s 
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

